# Полезные команды 

## Выявление и анализ проблем на серверах
!!! note "Проверка места на жестких дисках"

    **Команда df -h**
    <br>
    Утилита df выводит на экран информацию в байтах, а -h указывает команде выводить размеры в килобайтах, мегабайтах, гигабайтах и других кратных величинах удобных для чтения

    **Команда du -sh /**
    <br>
    Позволяет отобразить размер конкретной директории. Для этого нужно запустить команду вида: du -sh directory_name/.
    Опция -s (от английского summarize) отображает только общее значение для каждого аргумента.
    <br> 
    Опция -h (от английского human readable) отображает значения в человекочитаемом формате, например, 70G, 215M

    **Команда df -i**  
    Позволяет получить информацию о размерах инодов файловых систем, покажет количество использованных и свободных инодов в каждой файловой системе на компьютере.
    <br>
    Инод (от англ. index node) — это особая структура данных в файловой системе, которая содержит информацию о файле или каталоге, но не самих данных файла. Простым языком инод можно описать как паспорт файла, где хранятся его метаданные.

    **Команда smartctl -a**  
    Выводит всю доступную SMART-информацию для указанного устройства, использующего стандартные (HDD) жесткие диски. Чтобы посмотреть данные для диска /dev/sda, нужно выполнить команду sudo smartctl -a /dev/sda

    **Команда cat /proc/mdstat**  
    Позволяет посмотреть инициализацию RAID-массива и его текущее состояние.
!!! note "Проверка процессора, памяти и дисков"

    **Команда iostat**  
    Используется для мониторинга и составления отчётов об активности ЦП, дискового ввода/вывода и блочных устройств.

    **Команда iotop**  
    Позволяет отслеживать и анализировать активность дискового ввода-вывода в режиме реального времени. С помощью этого инструмента можно определить, какие процессы генерируют наибольшее количество дисковых операций ввода-вывода, отследить скорость чтения и записи

    **Команда top**  
    Выводит список работающих в системе процессов и информацию о них. По умолчанию она в реальном времени сортирует их по нагрузке на процессор.  
    В верхней части выводится информация о системе, ниже — список процессов.  
    <br>
    Пробел — обновить вывод; <br>
    M — сортировка по используемой памяти; <br>
    P — сортировка по нагрузке на процессор (используется по умолчанию); <br>
    T — сортировка по времени работы процесса; <br>
    A — сортировка по максимальному потреблению различных ресурсов; <br>
    u — сортировка по имени пользователя (потребуется ввести имя пользователя); <br>
    k — завершить процесс (потребуется указать его идентификатор, PID); <br>
    n — изменить количество процессов в выводе (потребуется указать нужное количество); <br>
    c — вывести полный путь запущенного процесса (столбец COMMAND); <br>
    h — вывод справки; <br>
    q — выход из программы.

## Команда для работы с файлами в командной строке
!!! note "Управление файлами через командную строку"

**Команда ls**
Вывод содержимого каталога;
**Команда ls -la**
Вывод содержимого каталога в форматированном виде (в т.ч. скрытые файлы);
**Команда cd dir**
Перейти в каталог dir;
**Команда cd**
Перейти в домашний каталог;
**Команда pwd**
Показать текущий каталог;
**Команда mkdir dir**
Создать каталог dir;
**Команда rm file**
Удалить файл;
**Команда rm -r dir**
Удалить каталог dir;
**Команда rm -f file**
Принудительно удалить файл;
**Команда rm -rf dir**
Принудительно удалить каталог dir;
**Команда cp file1 file2**
Скопировать file1 в file2;
**Команда cp -r dir1 dir2**
Скопировать каталог dir1 в каталог dir2 (если каталога dir2 нет, он будет создан);
**Команда mv file1 file2**
Переместить (или переименовать, если file1 и file2 находятся в одном каталоге) file1 в file2;
**Команда ln -s file link**
Создать симлинк link на файл file;
**Команда touch file**
Создать файл;
**Команда cat > file**
Направить стандартный ввод в file;
**Команда more file**
Вывод содержимого file;
**Команда head file**
Вывод содержимого первых 10 строк file;
**Команда tail file**
Вывод содержимого последних 10 строк file;
**Команда tail -f file**
Вывод содержимого file по мере появления, начиная с последних 10 строк файла.
